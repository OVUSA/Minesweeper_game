<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Minesweeper login page</title>
    <link rel = "stylesheet"  type ="text/css" href = "../css/signup_style.css">
</head>
    <body>
        <section id="main" class="wrapper">
            <div class="box left">
                <form  id="signup" onsubmit="return false;">
                    <label for = "name">User name</label>
                    <input type ="text" class="name" placeholder="Your name..">
                    <label for ="password"> Password</label>
                    <input type = "text" class="password"placeholder = "Your password..">
                    <button onclick=createUser()>Submit</button>   
                </form>
            </div>
            <div class="box right">
                <button onclick=guestGame()>Play as a Guest</button>   
            </div>
        </section>         
    <script src = "../js/script.js"></script>   
    <script>

    function createUser(){
       localStorage.clear();
       let name = document.querySelector('.name').value;
       let password = document.querySelector('.password').value;
       const currentUser = new User(name,password); 
       console.log(currentUser)

      localStorage.setItem('player', JSON.stringify(currentUser));

      window.location.href = "../html/game.html";

       // let storedUser = JSON.stringify(currentUser);
       // localStorage.setItem('player',storedUser);  
    
   }


   //saving the object in localStorage
   function localStorage(currentUser){
       let storedUser = JSON.stringify(currentUser);
       localStorage.setItem('player',storedUser); 
   }


function guestGame() {
       currentUser = new User("Guess",null);  
       localStorage(currentUser);
       window.location.href = "../html/game.html";
}
    </script> 
</body>
</html>